{
    "functions": [
        {
            "name": "ALERT",
            "access": "",
            "virtual": false,
            "description": "ALERT\nDisplay a message as an alert.\nALERT displays a message to the user. You can provide both the title and message of the alert box.",
            "parameters": [
                {
                    "name": "title",
                    "type": "String",
                    "description": "A short title for the alert",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "message",
                    "type": "String",
                    "description": "The message content for the alert",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "ALERT('Warning!', 'A depth of 98 feet is high. Are you sure?');\n\n// Displays an alert that looks like\n// +-------------------------------------------+\n// | Warning!                                  |\n// +-------------------------------------------|\n// |                                           |\n// | A depth of 98 feet is high. Are you sure? |\n// |                                           |\n// +-------------------------------------------+"
            ]
        },
        {
            "name": "CLEARINTERVAL",
            "access": "",
            "virtual": false,
            "description": "CLEARINTERVAL\nClears an interval that was previously started with SETINTERVAL.\nThe CLEARINTERVAL function clears an interval that was previously started with [SETINTERVAL](/data-events/reference/setinterval/).",
            "parameters": [
                {
                    "name": "intervalID",
                    "type": "Number",
                    "description": "The interval ID to clear",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Starts an interval to update the GPS accuracy every 5 seconds and stops updating after 2 minutes.\nON('load-record', function(event) {\n  var fiveSeconds = 1000 * 5;\n  var twoMinutes = 1000 * 60 * 2;\n\n  var interval = SETINTERVAL(function() {\n    if (CURRENTLOCATION()) {\n      SETLABEL('accuracy', CURRENTLOCATION().accuracy);\n    }\n  }, fiveSeconds);\n\n  SETTIMEOUT(function() {\n    CLEARINTERVAL(interval);\n  }, twoMinutes);\n});"
            ]
        },
        {
            "name": "CLEARTIMEOUT",
            "access": "",
            "virtual": false,
            "description": "CLEARTIMEOUT\nClears a timeout that was previously started with SETTIMEOUT.\nThe CLEARTIMEOUT function clears a timeout that was previously started with [SETTIMEOUT](/data-events/reference/settimeout/).",
            "parameters": [
                {
                    "name": "timerID",
                    "type": "Number",
                    "description": "The timer ID to clear",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Starts a timer to alert after five minutes, and another timeout that clears the first one after four minutes.\n// No alert is ever displayed.\nON('load-record', function(event) {\n  var fiveMinutes = 1000 * 60 * 5;\n  var fourMinutes = 1000 * 60 * 4;\n\n  var timer = SETTIMEOUT(function() {\n    ALERT(\"You've been editing this record for 5 minutes.\");\n  }, fiveMinutes);\n\n  SETTIMEOUT(function() {\n    CLEARTIMEOUT(timer);\n  }, fourMinutes);\n});"
            ]
        },
        {
            "name": "CONFIRM",
            "access": "",
            "virtual": false,
            "description": "CONFIRM\nDisplay a question to the user with an \"Okay or Cancel\" response and a callback to respond to the result\nCONFIRM displays a message to the user and allows a callback function that will be invoked to respond to the result of the question.",
            "parameters": [
                {
                    "name": "title",
                    "type": "String",
                    "description": "A short title for the alert",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "message",
                    "type": "String",
                    "description": "The message content for the alert",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "callback",
                    "type": "function",
                    "description": "invoked when the message box is dismissed",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "CONFIRM('Confirm', 'You have selected a critical safety violation. Are you sure?', function (result) {\n  if (result.value === 'Okay') {\n    // Selected Okay\n  } else {\n    // Selected Cancel\n  }\n});"
            ]
        },
        {
            "name": "CURRENTLOCATION",
            "access": "",
            "virtual": false,
            "description": "CURRENTLOCATION\nReturns a location object containing metadata about the user's current location. This location may be different than the record location.\nReturns the current device location as an object. This can be used for Q/A purposes or other custom processing logic. This is *not* always the same as the record location. For example, if editing an imported record or previously created record, the current location will be different.\n\nReturns data in the following format:\n\n```json\n{\n  \"latitude\": 27.822209699105304,\n  \"longitude\": -82.69114932984364,\n  \"altitude\": 15.030448913574219,\n  \"accuracy\": 10,\n  \"course\": 213,\n  \"speed\": 3.4,\n  \"timestamp\": 1462414931.9999695\n}\n```",
            "parameters": [],
            "examples": [
                "location = CURRENTLOCATION()\n\nif (!location) {\n  // location could not be determined.\n} else {\n  lat = location.latitude;   // 35.6443171\n  lng = location.longitude;  // -80.8984504\n  alt = location.altitude;   // 213 - meters above sea level. Negative values indicate below sea level.\n  acc = location.accuracy;   // 5 - meters, the accuracy of the latitude and longitude values\n  speed = location.speed;    // 3.4 - meters per second\n  course = location.course;  // 213 - degrees from due north. 0-359, negative values or `null` indicate invalid values.\n  time = location.timestamp; // 1454015950.013456 - epoch time, seconds\n}"
            ]
        },
        {
            "name": "INVALID",
            "access": "",
            "virtual": false,
            "description": "INVALID\nDisplay a validation error message and prevent the record or repeatable item from being saved.\nThe INVALID function is designed for the sole purpose of doing custom validations when saving records. It's a special purpose function that's intended to only be used within the `validate-record` and `validate-repeatable` events. It's different from `ALERT` in a couple of ways. First, it instructs the editor to halt saving the record. And second, messages passed to `INVALID` are combined and displayed alongside the rest of the built-in validations like required fields, pattern validations, and min/max constraints. This allows custom validation logic to be displayed in a natural way to the end user as if it were a built-in validation.",
            "parameters": [
                {
                    "name": "message",
                    "type": "String",
                    "description": "The validation error message content for the alert",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Displays an alert and stops the record from being saved\nINVALID('Depth must be less than 20.');",
                "// Use with the 'validate-record' event to stop a record from being saved\nON('validate-record', function (event) {\n   if (NUM($depth) >= 20) {\n     INVALID('Depth must be less than 20.');\n   }\n});",
                "// Use with the 'validate-repeatable' event to stop a repeatable from being saved\nON('validate-repeatable', 'repeatable_field_name', function (event) {\n   if (!ISSELECTED($choice_field, 'Purple')) {\n     INVALID('You gotta pick purple!');\n   }\n});"
            ]
        },
        {
            "name": "MESSAGEBOX",
            "access": "",
            "virtual": false,
            "description": "MESSAGEBOX\nDisplay a message box with configurable title, message, buttons and optional text input.\nMESSAGEBOX displays a message to the user. You can provide both the title and message of the alert box. Using the `buttons` parameter you can specify the button titles that are displayed in the message box.",
            "parameters": [
                {
                    "name": "options",
                    "type": "Object",
                    "description": "The options for the message box",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "callback",
                    "type": "function",
                    "description": "invoked when the message box is dismissed",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "MESSAGEBOX({title: 'Confirm', message: 'You have selected a critical safety violation. Are you sure?', buttons: ['Yes', 'No']}, function (result) {\n  if (result.value === 'Yes') {\n    // Selected Yes\n  } else {\n    // Selected No\n  }\n});"
            ]
        },
        {
            "name": "OFF",
            "access": "",
            "virtual": false,
            "description": "OFF\nDetaches an event handler set by ON.",
            "parameters": [
                {
                    "name": "event",
                    "type": "string",
                    "description": "The event name",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "callback",
                    "type": "function",
                    "description": "The function to detach",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "OFF('validate-record', callback);\n\n// Detaches an event handler from the validate-record event",
                "OFF('validate-record');\n\n// Detaches all event handlers listening to the 'validate-record' event"
            ]
        },
        {
            "name": "ON",
            "access": "",
            "virtual": false,
            "description": "ON\nAttaches an event handler that listens for record, repeatable, or field events.\nThe ON function is the starting point for most data event scripts. It wires up an event to a function that gets called when that event happens. Events are things like a record being opened, edited, saved, validated, a field changing, or the record location changing. Using the `ON` function you can add custom logic to be performed when the events happen. The `ON` function by itself is not useful unless it's combined with the other data event functions to manipulate the record data and perform other actions like custom alerts and validations.",
            "parameters": [
                {
                    "name": "event",
                    "type": "string",
                    "description": "The event name",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "callback",
                    "type": "function",
                    "description": "The function to call when the specified event is triggered",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "var callback = function () {\n  if (!(LATITUDE() >= 40 && LATITUDE() <= 41)) {\n    INVALID('Latitude must be between 40 and 41.');\n  }\n};\n\n// Listens for 'save-record' events and stops the record from being saved unless it's within a latitude range\nON('validate-record', callback);",
                "var callback = function () {\n  // Do something with the new $weather_summary values\n};\n\n// Listens for changes to the weather summary field and executes callback\nON('change', 'weather_summary', callback);",
                "var callback = function () {\n  // Do something with the location via LATITUDE() AND LONGITUDE() values\n};\n\n// Listens for changes to a record's geometry (location) and executes callback\nON('change-geometry', callback);",
                "var callback = function () {\n  // Do something with the repeatable location via LATITUDE() AND LONGITUDE() values\n};\n\n// Listens for changes to a repeatable item's geometry and executes callback\nON('change-geometry', 'repeatable_item', callback);"
            ]
        },
        {
            "name": "OPENURL",
            "access": "",
            "virtual": false,
            "description": "OPENURL\nOpen a URL for a website or mobile app.\nOPENURL is for opening links from within a form. It can be used to open other mobile apps or websites within an event handler. You can use form fields to build the URL to open so the links can be derived from data already entered on the record.",
            "parameters": [
                {
                    "name": "url",
                    "type": "String",
                    "description": "The URL to open",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "OPENURL('https://www.google.com/search?q=Fulcrum+Mobile+Solutions');\n\n// Opens a web browser to the specified address",
                "OPENURL('comgooglemaps://?q=Pizza&center=37.759748,-122.427135');\n\n// Opens google maps and searches for Pizza near a location",
                "OPENURL('mailto:clark.griswold@gmail.com?subject=turn+those+lights+off!&body=jk,+i+love+them.');\n\n// Opens an email client with a predefined subject and body",
                "if (PLATFORM() === 'iOS') {\n  OPENURL('mailto:' + $field_1 + '?subject=' + encodeURIComponent($field_2) + '&body=' + encodeURIComponent($field_3));\n} else {\n  OPENURL('mailto:' + $field_1 + '?subject=' + $field_2 + '&body=' + $field_3);\n}\n\n// Opens an email client with dynamic to address, subject, and body.",
                "ON('click', 'driving_directions', function(event) {\n  OPENURL(encodeURI('https://maps.google.com/maps?daddr=' + $address.sub_thoroughfare + '+' + $address.thoroughfare + '+' + $address.locality + '+' + $address.admin_area + '+' + $address.postal_code));\n});\n\n// Opens the Google Maps app and provides driving directions to address when the 'driving_directions' hyperlink field is clicked."
            ]
        },
        {
            "name": "PROGRESS",
            "access": "",
            "virtual": false,
            "description": "PROGRESS\nDisplay a non-dismissible progress message in the mobile app.\nPROGRESS displays a non-dismissible message that can be used to provide feedback when performing an asynchronous function. For example, while fetching data from an API using [REQUEST](/data-events/reference/request/) it might be desirable to let the user know that the request is in progress. This is an advanced function that requires thorough testing and error checking in your logic since the message is not dismissible by the user. To dismiss the progress message, call `PROGRESS();`.",
            "parameters": [
                {
                    "name": "title",
                    "type": "String",
                    "description": "A short title for the progress message",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "message",
                    "type": "String",
                    "description": "The message content for the progress alert",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "var url = 'https://example.com';\n\n// show progress message while request is happening\nPROGRESS('Searching for nearby facilities ...');\n\nREQUEST(url, function(error, response, body) {\n  PROGRESS();\n\n  if (error) {\n    ALERT(INSPECT(error));\n  } else {\n    // do something with the API response\n  }\n});\n\n// Displays an progress message that looks like this while the request is in progress\n// +-------------------------------------------+\n// | Searching for nearby facilities ...       |\n// +-------------------------------------------+"
            ]
        },
        {
            "name": "PROMPT",
            "access": "",
            "virtual": false,
            "description": "PROMPT\nDisplay a text field to get input from the user and a callback to respond to the result",
            "parameters": [
                {
                    "name": "title",
                    "type": "String",
                    "description": "A short title for the alert",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "message",
                    "type": "String",
                    "description": "The message content for the alert",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "callback",
                    "type": "function",
                    "description": "invoked when the message box is dismissed",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "PROMPT('Please enter the current year', function (result) {\n  if (result.input === new Date().getFullYear()) {\n    // Correct\n  } else {\n    // Incorrect\n  }\n});"
            ]
        },
        {
            "name": "REQUEST",
            "access": "",
            "virtual": false,
            "description": "REQUEST\nPerforms an HTTP request and executes the callback on completion.\nThe REQUEST function is for making external HTTP requests. It's one of the most powerful data event functions and enables you to retrieve external data while filling out a form. It can be combined with the other functions to create very dynamic forms that populate information on-demand from external sources. It contains the necessary options to perform any HTTP request, including support for PUT, POST, etc and custom headers.\n\n### CORS and Web Browser Support\n\nTo work in the web browser, URLs fetched using REQUEST *require* HTTPS & [CORS](https://en.wikipedia.org/wiki/Cross-origin_resource_sharing). This is not a limitation of Fulcrum - it's just the way modern web browsers work. Since Fulcrum is hosted on a secure website, all requests made from the site must also be secure and respond with the proper headers required by the browser. If you encounter CORS errors when trying to use an API with the REQUEST function, we recommend contacting the API provider and asking them to [add CORS support to their API](http://enable-cors.org). As a last resort, you can use a CORS proxy to proxy requests to URLs that don't support it. https://crossorigin.me is a freely hosted CORS proxy. Note that crossorigin.me is not a Fulcrum service.",
            "parameters": [
                {
                    "name": "options",
                    "type": "Object",
                    "description": "The options to pass for the request",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "options.url",
                    "type": "string",
                    "description": "The url for the request",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "options.method",
                    "type": "string",
                    "description": "The HTTP method for the request (POST, PUT, DELETE, etc.)",
                    "default": "GET",
                    "optional": true,
                    "nullable": ""
                },
                {
                    "name": "options.followRedirect",
                    "type": "boolean",
                    "description": "Should the request follow any redirects",
                    "default": true,
                    "optional": true,
                    "nullable": ""
                },
                {
                    "name": "options.headers",
                    "type": "Object",
                    "description": "An object containing keys and values for additional header items",
                    "default": "{}",
                    "optional": true,
                    "nullable": ""
                },
                {
                    "name": "options.qs",
                    "type": "Object",
                    "description": "An object containing query string parameters (url parameters)",
                    "default": "",
                    "optional": true,
                    "nullable": ""
                },
                {
                    "name": "options.json",
                    "type": "Object",
                    "description": "An object to be passed in the request body, must be `JSON.stringify`able",
                    "default": "",
                    "optional": true,
                    "nullable": ""
                },
                {
                    "name": "options.body",
                    "type": "string",
                    "description": "The request body to send with a POST or PUT request",
                    "default": "",
                    "optional": true,
                    "nullable": ""
                },
                {
                    "name": "callback",
                    "type": "function",
                    "description": "The function to call when the request is complete - The function is passed `error`, `response`, and `body` parameters",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// This example looks up the place name from OpenStreetMap when the location changes and fills in a text\n// field with the place name. Replace 'place_name' below with a text field on your form.\n\nON('change-geometry', function(event) {\n  var options = {\n    url: 'https://nominatim.openstreetmap.org/search/' + LATITUDE() + ',' + LONGITUDE() + '?format=json&polygon=1&addressdetails=1'\n  };\n\n  REQUEST(options, function(error, response, body) {\n    if (error) {\n      ALERT('Error with request: ' + error);\n    } else {\n      var data = JSON.parse(body);\n\n      if (data.length) {\n        SETVALUE('place_name', data[0].display_name);\n      }\n    }\n  });\n});"
            ]
        },
        {
            "name": "SETASSIGNMENT",
            "access": "",
            "virtual": false,
            "description": "SETASSIGNMENT\nSet the user assignment of a record\n\n*NOTE* This function currently only works within the web record editor. However, scripts should be prepared to handle it working on mobile in the future.",
            "parameters": [
                {
                    "name": "userEmail",
                    "type": "String",
                    "description": "The email address of the user, or `null` to unset it",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Sets the user assignment\nSETASSIGNMENT('test@example.com')"
            ]
        },
        {
            "name": "SETCHOICEFILTER",
            "access": "",
            "virtual": false,
            "description": "SETCHOICEFILTER\nFilter the choices in a choice field or classification field.\nThe SETCHOICEFILTER function allows for dynamic filtering of the choice options on choice fields or classification fields. This function differs from [SETCHOICES](/data-events/reference/setchoices/) in that only filters the existing choices. That distinction is important because it allows you to maintain your choice options as choice lists and classification sets with label+value pairs and control the available options from data events without having to completely redefine the options with labels *and* values. Using `SETCHOICEFILTER` you can supply the filter to apply and it will keep the label and values already defined on the choice options. The filtering is applied to the value portion of the choices and uses case-insensitive \"contains\" comparison.\n\n*NOTE*: SETCHOICEFILTERS() will filter the top level choice options in a classification set.",
            "parameters": [
                {
                    "name": "field",
                    "type": "String",
                    "description": "The data name for the field",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "filter",
                    "type": [
                        "String",
                        "Array",
                        "null"
                    ],
                    "description": "The string or strings to filter choices by",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Filters the choices in the weather summary field to those that contain 'cat'\nSETCHOICEFILTER('weather_summary', 'cat');",
                "// Filters the choices in the weather summary field to those that contain 'cat' or 'dog'\nSETCHOICEFILTER('weather_summary', ['cat', 'dog']);",
                "// Unsets any filter previously set by SETCHOICEFILTER and applies no filter\nSETCHOICEFILTER('weather_summary', null);"
            ]
        },
        {
            "name": "SETCHOICES",
            "access": "",
            "virtual": false,
            "description": "SETCHOICES\nSet the available choices for a choice field.\nThe SETCHOICES function allows for dynamic modification of the choice options on choice fields. For example, if you want to limit or completely replace the pick list options depending on other data scenarios on the form, you can use SETCHOICES to modify the options. Depending on what's required, it might be easier to use [SETCHOICEFILTER](/data-events/reference/setchoicefilter/), which is a similar function except it doesn't completely redefine the choices, it only applies a filter to them.\n\nThe `choices` parameter can be in 3 possible formats. The first format is provided for simplicity, and the last 2 formats are for more sophisticated scenarios where you want control over the label and value properties of the choices. The examples below demonstrate all 3 formats.\n\n* Array of strings - simplest format, the label and value are the same\n* Array of arrays - each choice item is an array in `[label, value]` order\n* Array of objects - each object has a `label` and `value` attribute",
            "parameters": [
                {
                    "name": "field",
                    "type": "String",
                    "description": "The data name for the field",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "choices",
                    "type": [
                        "Array",
                        "null"
                    ],
                    "description": "The choices for the choice field, or `null` to restore the original choices.",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "choices = ['Rain', 'Hail', 'Snow', 'Graupel'];\n\n// Sets the available choices of the weather summary field to an array of values\nSETCHOICES('weather_summary', choices);",
                "choices = [\n  ['Light Rain', 'light_rain'],\n  ['Heavy Rain', 'heavy_rain']\n];\n\n// Sets the available choices of the weather summary field to an array of labels and values in [<label>, <value>] order\nSETCHOICES('weather_summary', choices);",
                "choices = [\n  { label: 'Light Rain', value: 'light_rain' },\n  { label: 'Heavy Rain', value: 'heavy_rain' }\n];\n\n// Sets the available choices of the weather summary field to an array of labels and values in an object containing \"label\" and \"value\" keys\nSETCHOICES('weather_summary', choices);",
                "// Unsets any override previously set by SETCHOICES and uses the original setting from the form schema\nSETCHOICES('weather_summary', null);"
            ]
        },
        {
            "name": "SETDESCRIPTION",
            "access": "",
            "virtual": false,
            "description": "SETDESCRIPTION\nSet the description of a field.",
            "parameters": [
                {
                    "name": "field",
                    "type": "String",
                    "description": "The data name for the field",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "value",
                    "type": "String",
                    "description": "The value to set for the field's description, or `null` to restore the original description",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "SETDESCRIPTION('weather_summary', 'Could not automatically fetch weather data. Briefly describe the current weather.');\n\n// Sets the description of a weather summary field"
            ]
        },
        {
            "name": "SETFORMATTRIBUTES",
            "access": "",
            "virtual": false,
            "description": "SETFORMATTRIBUTES\nConfigure specific device functionality and behaviors at the form level.\nAllows you to configure specific device functionality and behaviors at the form level. These configuration options help you control what features the user has available, improving the workflow and data quality for that particular form. You can currently control the following:\n\n* Disable adding photos from the camera roll\n* Force record to be sync’d upon save\n* Control the minimum accuracy required for the GPS location\n* Disable the ability to manually move the record location\n* Disable the “Save as Draft” feature\n* Control photo and video quality settings\n\nThe following table contains the available properties that be set:\n\n{:.table.table-striped.event-table}\n| Property | Type | Description | Default |\n|----------|------|-------------|---------|\n| `auto_sync_enabled` | boolean | auto-sync this record after saving | user-preference |\n| `auto_location_enabled` | boolean | auto-populate the record location | true |\n| `auto_location_minimum_accuracy` | integer | minimum accuracy in meters for the auto-populated location | 1500 |\n| `manual_location_enabled` | boolean | allow manually changing the record location | false |\n| `media_gallery_enabled` | boolean | allow media from the gallery or camera roll | true |\n| `media_capture_enabled` | boolean | allow media from the camera | true |\n| `photo_quality` | integer | maximum dimension of photos in pixels, or 'native' | user-preference |\n| `video_quality` | string | video resolution, one of: 480p, 720p, 1080p, 2160p (device/platform dependent) | user-preference |\n| `drafts_enabled` | boolean | allow saving record as a draft | true |\n| `edit_locations_enabled` | boolean | track the locations of record edits | true |\n| `edit_durations_enabled` | boolean | track the durations of record edits | true |",
            "parameters": [
                {
                    "name": "config",
                    "type": "Object",
                    "description": "A configuration object with the following optional properties",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "ON('load-record', function() {\n  // This is just an example, it's not required to specify properties you don't want to override.\n  var config = {\n    auto_sync_enabled: true,\n    auto_location_enabled: true,\n    auto_location_minimum_accuracy: 10,\n    manual_location_enabled: false,\n    media_gallery_enabled: false,\n    media_capture_enabled: true,\n    photo_quality: '2048',\n    video_quality: '720p',\n    drafts_enabled: false,\n    edit_locations_enabled: true,\n    edit_durations_enabled: true\n  };\n\n  SETFORMATTRIBUTES(config);\n});"
            ]
        },
        {
            "name": "SETHIDDEN",
            "access": "",
            "virtual": false,
            "description": "SETHIDDEN\nSet the visibility of a field.\nThe SETHIDDEN function hides a form field. It can be used to add custom conditional logic above and beyond what can be configured in the Fulcrum builder. It has the same behavior as the 'Hidden' checkbox in the builder, which means that data is not automatically cleared out when hiding a field.",
            "parameters": [
                {
                    "name": "field",
                    "type": "String",
                    "description": "The data name for the field",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "hidden",
                    "type": [
                        "boolean",
                        "null"
                    ],
                    "description": "Boolean value representing whether the field should be hidden, or `null` to restore the original value",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Hides the weather summary field\nSETHIDDEN('weather_summary', true);",
                "// Shows the weather summary field\nSETHIDDEN('weather_summary', false);",
                "// Unsets any override previously set by SETHIDDEN and uses the original setting from the form schema\nSETHIDDEN('weather_summary', null);"
            ]
        },
        {
            "name": "SETINTERVAL",
            "access": "",
            "virtual": false,
            "description": "SETINTERVAL\nRepeatedly calls a function with a fixed time delay between each call.\nThe SETINTERVAL function can be used to repeatedly call a function at a specified interval. It's nearly identical to the web platform standard [setTimeout](https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setInterval).",
            "parameters": [
                {
                    "name": "function",
                    "type": "function",
                    "description": "The function to execute at the interval",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "interval",
                    "type": "Number",
                    "description": "The number of milliseconds to delay between each call (e.g. 1000 is 1 second)",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "ON('load-record', function(event) {\n  var fiveSeconds = 1000 * 5;\n\n  SETINTERVAL(function() {\n    if (CURRENTLOCATION()) {\n      SETLABEL('accuracy', CURRENTLOCATION().accuracy);\n    }\n  }, fiveSeconds);\n});\n\n// Set a field label to the current GPS accuracy every 5 seconds"
            ],
            "returns": {
                "type": "Number",
                "description": "interval ID that can be used to clear the interval with [CLEARINTERVAL](/data-events/reference/clearinterval/)."
            }
        },
        {
            "name": "SETLABEL",
            "access": "",
            "virtual": false,
            "description": "SETLABEL\nSet the label of a field.",
            "parameters": [
                {
                    "name": "field",
                    "type": "String",
                    "description": "The data name for the field",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "hidden",
                    "type": [
                        "String",
                        "null"
                    ],
                    "description": "The text for the field label, or `null` to restore the original label",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Sets the field's label to 'Weather Report'\nSETLABEL('weather_summary', 'Weather Report');",
                "// Unsets any override previously set by SETLABEL and uses the original setting from the form schema\nSETLABEL('weather_summary', null);"
            ]
        },
        {
            "name": "SETLOCATION",
            "access": "",
            "virtual": false,
            "description": "SETLOCATION\nSet the location of a record.",
            "parameters": [
                {
                    "name": "latitude",
                    "type": "number",
                    "description": "The new latitude of the record",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "longitude",
                    "type": "number",
                    "description": "The new longitude of the record",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Sets the location of a record\nSETLOCATION(35.5946167, -80.8638915);"
            ]
        },
        {
            "name": "SETMAXLENGTH",
            "access": "",
            "virtual": false,
            "description": "SETMAXLENGTH\nSet the maximum length for a field.\nThe SETMAXLENGTH function can be used to set the maximum number of characters for a text field or the maximum count of repeatables, photos, videos, or audio files.",
            "parameters": [
                {
                    "name": "field",
                    "type": "String",
                    "description": "The data name for the field",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "length",
                    "type": [
                        "number",
                        "null"
                    ],
                    "description": "The maximum length of the field",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "SETMAXLENGTH('weather_summary', 25);\n\n// Sets the maximum length of the weather summary field to 25",
                "// Unsets any override previously set by SETMAXLENGTH and uses the original setting from the form schema\nSETMAXLENGTH('weather_summary', null);"
            ]
        },
        {
            "name": "SETMINLENGTH",
            "access": "",
            "virtual": false,
            "description": "SETMINLENGTH\nSet the minimum length for a field.\nThe SETMINLENGTH function can be used to set the minimum number of characters for a text field or the minimum count of repeatables, photos, videos, or audio files. Note that the minimum length is only enforced for non-empty fields. You must also make the field required to enforce the minimum length for empty fields.",
            "parameters": [
                {
                    "name": "field",
                    "type": "String",
                    "description": "The data name for the field",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "length",
                    "type": [
                        "number",
                        "null"
                    ],
                    "description": "The minimum length of the field",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "SETMINLENGTH('weather_summary', 25);\n\n// Sets the minimum length of the weather summary field to 25",
                "// Unsets any override previously set by SETMINLENGTH and uses the original setting from the form schema\nSETMINLENGTH('weather_summary', null);"
            ]
        },
        {
            "name": "SETPROJECT",
            "access": "",
            "virtual": false,
            "description": "SETPROJECT\nSet the project of a record.",
            "parameters": [
                {
                    "name": "project",
                    "type": "String",
                    "description": "The project name, or `null` to clear the project",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Sets the project of a record\nSETPROJECT('Bells Crossing Phase 3');"
            ]
        },
        {
            "name": "SETREADONLY",
            "access": "",
            "virtual": false,
            "description": "SETREADONLY\nSets a field to be read-only or editable.",
            "parameters": [
                {
                    "name": "field",
                    "type": "String",
                    "description": "The data name",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "readOnly",
                    "type": [
                        "boolean",
                        "null"
                    ],
                    "description": "Boolean value representing whether the field should be read-only, or `null` to restore the original state",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "SETREADONLY('weather_summary', true);\n\n// Sets the field to read only, not editable by the user",
                "SETREADONLY('weather_summary', false);\n\n// Sets the field to be active, editable by the user",
                "SETREADONLY('weather_summary', null);\n\n// Unsets any override previously set by SETREADONLY and uses the original setting from the form schema"
            ]
        },
        {
            "name": "SETREQUIRED",
            "access": "",
            "virtual": false,
            "description": "SETREQUIRED\nSet whether or not a field is required.",
            "parameters": [
                {
                    "name": "field",
                    "type": "String",
                    "description": "The data name for the field",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "required",
                    "type": [
                        "boolean",
                        "null"
                    ],
                    "description": "Boolean value representing whether the field should be required, or `null` to restore the original state",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Sets the weather summary field as required\nSETREQUIRED('weather_summary', true);",
                "// Sets the weather summary field as not required\nSETREQUIRED('weather_summary', false);",
                "// Unsets any override previously set by SETREQUIRED and uses the original setting from the form schema\nSETREQUIRED('weather_summary', null);"
            ]
        },
        {
            "name": "SETSTATUS",
            "access": "",
            "virtual": false,
            "description": "SETSTATUS\nSet the status of a record.",
            "parameters": [
                {
                    "name": "status",
                    "type": "String",
                    "description": "The status value for the record. Must be a valid status option!",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Sets the status of a record\nSETSTATUS('inspection_pending');"
            ]
        },
        {
            "name": "SETSTATUSHIDDEN",
            "access": "",
            "virtual": false,
            "description": "SETSTATUSHIDDEN\nSet the visibility of the status field.",
            "parameters": [
                {
                    "name": "hidden",
                    "type": [
                        "boolean",
                        "null"
                    ],
                    "description": "Boolean value representing whether the field should be hidden, or `null` to restore the original value",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "SETSTATUSHIDDEN(true);\n\n// Sets the status field to be hidden"
            ]
        },
        {
            "name": "SETSTATUSREADONLY",
            "access": "",
            "virtual": false,
            "description": "SETSTATUSREADONLY\nSets the status field to be read-only or editable.",
            "parameters": [
                {
                    "name": "readOnly",
                    "type": [
                        "boolean",
                        "null"
                    ],
                    "description": "Boolean value representing whether the field should be read-only, or `null` to restore the original state",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "SETSTATUSREADONLY(true);\n\n// Sets the status field to read only, not editable by the user"
            ]
        },
        {
            "name": "SETSTATUSFILTER",
            "access": "",
            "virtual": false,
            "description": "SETSTATUSFILTER\nSet the allowable status values for a record.\nThe SETSTATUSFILTER function allows for dynamic filtering of the available status options. This is similar to [SETCHOICEFILTER](/data-events/reference/setchoicefilter/) except it operates on the status field. Using this function it's possible to change the available status options by user role or any other data conditions on record.",
            "parameters": [
                {
                    "name": "statuses",
                    "type": [
                        "Array",
                        "null"
                    ],
                    "description": "The allowable status values for the record, or `null` to restore the original options",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Sets the allowable status values for the record to be 'inspection_pending' or 'in_inspection'\nSETSTATUSFILTER(['inspection_pending', 'in_inspection']);",
                "// Unsets any previous status filters and allows any status to be selected for the record\nSETSTATUSFILTER(null);",
                "// Sets the allowable status values for the record to be 'inspection_pending' or 'in_inspection' for Standard Users\nON('load-record', function(event) {\n  if (ROLE() === 'Standard User') {\n    SETSTATUSFILTER(['inspection_pending', 'in_inspection']);\n  }\n});"
            ]
        },
        {
            "name": "SETTIMEOUT",
            "access": "",
            "virtual": false,
            "description": "SETTIMEOUT\nCalls a function after a specified delay.\nThe SETTIMEOUT function can be used to delay execution of a function for a specified amount of time. It's nearly identical to the web platform standard [setTimeout](https://developer.mozilla.org/en-US/docs/Web/API/WindowTimers/setTimeout).",
            "parameters": [
                {
                    "name": "function",
                    "type": "function",
                    "description": "The function to execute after the delay",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "delay",
                    "type": "Number",
                    "description": "The number of milliseconds to delay (e.g. 1000 is 1 second)",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "ON('load-record', function(event) {\n  var fiveMinutes = 1000 * 60 * 5;\n\n  SETTIMEOUT(function() {\n    ALERT(\"You've been editing this record for 5 minutes.\");\n  }, fiveMinutes);\n});"
            ],
            "returns": {
                "type": "Number",
                "description": "timer ID that can be used to clear the timeout with [CLEARTIMEOUT](/data-events/reference/cleartimeout/)"
            }
        },
        {
            "name": "SETVALUE",
            "access": "",
            "virtual": false,
            "description": "SETVALUE\nSet the value of a field.",
            "parameters": [
                {
                    "name": "field",
                    "type": "String",
                    "description": "The data name for the field to set",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                },
                {
                    "name": "value",
                    "type": "String",
                    "description": "The value to set for the field, or `null` to clear the value",
                    "default": "",
                    "optional": "",
                    "nullable": ""
                }
            ],
            "examples": [
                "// Sets the value of a weather summary field\nSETVALUE('text_field', 'A Text Value');",
                "// Sets the value of a time field\nSETVALUE('time_field', '16:00');",
                "// Sets the value of a date field\nSETVALUE('date_field', '2016-04-28');",
                "// Sets the value of a single choice field\nSETVALUE('choice_field', 'red');",
                "// Sets the value of a multiple choice field\nSETVALUE('multiple_choice_field', ['red', 'green', 'blue']);",
                "// Sets the value of a classification field to level1 > level2 > level3\nSETVALUE('classification_field', ['level1', 'level2', 'level3']);",
                "// Sets the value of a yes/no field\nSETVALUE('yes_no_field', 'yes');",
                "// Sets the value of an address field\nvar address = {\n  sub_thoroughfare: '360',\n  thoroughfare: 'Central Avenue',\n  suite: '200',\n  locality: 'St. Petersburg',\n  sub_admin_area: 'Pinellas',\n  admin_area: 'FL',\n  postal_code: '33701',\n  country: 'US'\n};\n\nSETVALUE('address_field', address);",
                "// Sets the value of a record link field\nSETVALUE('record_link_field', ['fulcrum_id_1', 'fulcrum_id_2']);"
            ]
        },
        {
            "name": "STORAGE",
            "access": "",
            "virtual": false,
            "description": "STORAGE\nReturns a storage object for setting and getting local storage items.",
            "parameters": [],
            "examples": [
                "storage = STORAGE();\nKEY = 'item_key';\nstorage.setItem(KEY, 'hello world');\n\n// Sets an item in local storage, must be a string",
                "item = storage.getItem(KEY);\n\n// Gets an item from storage if it exists, otherwise returns null",
                "geom = { type: 'Point', coordinates: [-100, 40] };\nstorage.setItem('geometry', JSON.stringify(geom));\n\nanotherGeom = JSON.parse(storage.getItem('geometry'));\n\n// Use JSON.stringify and JSON.parse to serialize and deserialize objects in local storage",
                "storage.removeItem(KEY);\n\n// Removes an item from storage",
                "storage.clear();\n\n// Removes all items from storage"
            ]
        }
    ]
}
